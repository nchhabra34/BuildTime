<?xml version='1.1' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties/>
  <scm class="hudson.scm.NullSCM"/>
  <assignedNode>blr-build-jenkins</assignedNode>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command># Build properties #
product=SPS
branch=feature
buildtype=CI


#source ~/.bash_profile
cd /opt/build/src/razor_spsfeature/razor/streamprocessingservice/feature/build_scripts
#source build.conf

BNB=`grep Build_Number build.properties |awk -F= &apos;{print $2}&apos;`
#sh commonspsbuild.sh build

BNA=`grep Build_Number build.properties |awk -F= &apos;{print $2}&apos;`

rm -rf UPDATEDB &gt; /dev/null

# Get Build revision #
revision=`cat buildlogs/sync.log |tail -1|awk -F@ &apos;{print $2}&apos;|cut -d&apos; &apos; -f1`

if ! [[ $revision =~ ^-?[0-9]+$ ]]
then
  echo &quot;*** Build Revision Not found ***&quot;
  exit 1
fi

if [ &quot;$BNB&quot; -eq &quot;$BNA&quot; ]
then
  echo &quot;No New Build, skipping updating tinyDB ..&quot;
else
  echo &quot;New Build, Updating tinyDB with Build #: $BNA&quot;
  echo &quot;product=SPS&quot; &gt;  UPDATEDB
  echo &quot;branch=feature&quot; &gt;&gt;  UPDATEDB
  echo &quot;buildtype=CI&quot; &gt;&gt;  UPDATEDB
  echo &quot;revision=$revision&quot; &gt;&gt; UPDATEDB
fi
</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>